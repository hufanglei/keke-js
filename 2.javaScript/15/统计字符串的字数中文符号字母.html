<!doctype html>
<html>
	<head>
		<!--声明当前页面的编码集：charset=gbk,gb2312(中文编码)，utf-8国际编码-->
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<!--当前页面的三要素-->
		<title>html模板</title>
		<meta name="Keywords" content="关键词,关键词">
		<meta name="description" content="">

		<!--css,js-->
		<style type="text/css">
			*{margin:0;padding:0;}
			a{text-decoration:none;}
			ul,li{list-style:none}
			body{font-size:12px;font-family:"微软雅黑";padding:100px;background:#fff;}
			textarea{width:640px;height:160px;overflow:auto;}

		</style>

	</head>
<body>
<h1>统计各种情况的计数器</h1><br/>
<textarea id="text" onkeyup="tongji();"></textarea>
<h3 id="console"></h3>
<script>

	function tongji(){
		//统计字符中数字有多少个，中文多少个，标点符号有多少，字母有多少个
		//第一步:
		var str ="123456789,,,中重工abB";
		var str = document.getElementById("text").value;
		//统计各种情况的计数器
		var numcount = 0; chinesecount = 0; biaocount=0; ccount=0;
		//字符串的长度
		var len= str.length;
		for(var i=0;i<len;i++){
			var code = str.charCodeAt(i);//拿到每个字符的ascii值
			var s = str.charAt(i);//对应的值
			//数字
			if(code>=48 && code<=57){
				numcount++;
			}else if((code>=97&&code<=122)||(code>=65&&code<=90)){//大写和小写的分别
				ccount++;
			//}else if(code >127){
			//}else if(s.search("/^[\u2E80-\u9FFF]+$/")!=-1){
			//}else if(s.match("/^[\u2E80-\u9FFF]+$/").length>0){
			}else if(/^[\u2E80-\u9FFF]+$/.test(s)){
				//中文
				chinesecount++;
			}else{
				biaocount++;
			}
		}
		//alert(numcount);//12
		//alert(ccount);//6
		
			//console.log("当前的字符中:总长度【"+len+"】,数字有:【"+numcount+"】个，字母有:【"+ccount+"】个，汉字有:【"+chinesecount+"】个，标点符号有:【"+biaocount+"】个");
		//
		document.getElementById("console").innerHTML = "当前的字符中:总长度【"+len+"】,数字有:【"+numcount+"】个，字母有:【"+ccount+"】个，汉字有:【"+chinesecount+"】个，标点符号有:【"+biaocount+"】个";
	}
	
</script>
</body>
</html>