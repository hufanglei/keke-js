<!doctype html>
<html>
	<head>
		<!--声明当前页面的编码集：charset=gbk,gb2312(中文编码)，utf-8国际编码-->
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<!--当前页面的三要素-->
		<title>html5 dragg</title>
		<meta name="Keywords" content="关键词,关键词">
		<meta name="description" content="">

		<!--css,js-->
		<style type="text/css">
			*{margin:0;padding:0;}
			a{text-decoration:none;color:#000;}
			ul,li{list-style:none}
			body{font-size:14px;font-family:"微软雅黑";}
			#box{width:140px;height:100px;background:#333;color:#fff;}
			#box span{display:block;}
			#shopcar{width:640px;height:360px;background:green;margin-top:10px;}
			#shopcar div{float:left;margin:2px; }
		</style>

	</head>
<body>
	
	<a href="#" draggable="false">我是一个a连接奥</a>
	<div id="box" draggable="true">
		<span  class="name">javascript面向对象</span>
		<span  class="price">120</span>
		<span  class="pub">湖南长沙</span>
	</div>
	<div id="shopcar" draggable="true">购物车</div>
		
	
		

	
<script>

	/*
		html5----课触动的拖放功能  draggable
		在页面中有两个元素默认开启的:a 和 img ,draggable="true"
		onmouserdown onmousemove onmouseup

		Draggable和文件Api 通过ajax实现文件上传

		参照物:拖放的元素和目标点
		Api事件
		1:ondragstart ：开始拖放元素触发的事件，对象:拖放的元素
		2.ondrag	: 拖放过程中触发的事件 ， 对象: 拖放的元素

		3.ondragenter : 有拖放的元素进入目标元素时触发的事件， 对象: 目标元素
		4.ondragover : 有拖放的元素在目标内移动触发的时间，对象: 目标元素
		5.ondragleave：有拖放的元素离开目标元素触发的事件，　对象：目标元素
		6.ondrop　：有拖放的元素在本元素松开的时候触发的事件　，对象：目标元素

		7.ondropend　：拖放元素结束触发的事件，　对象：拖放的元素
	*/	
	function dom(id){
		return document.getElementById(id);
	}
	window.onload = function(){
		var boxDom = dom("box");//拖放元素
		var shopDom = dom("shopcar");//目标元素
		//将数据存储起来，进行交互
		/*
			event.dataTransfer
			setData(key,value)
			getData(key)
			cleatData(key)
		*/
		boxDom.ondragstart = function(e){
			//e.dataTransfer.setData(key,value);
			e.dataTransfer.setData("text",this.outerHTML);
		};
		boxDom.ondragend =  function(){
			document.body.removeChild(this);
		}
		shopDom.ondragover = function(e){		
			e.preventDefault();
		}
	
		shopDom.ondrop = function(e){
			var text = e.dataTransfer.getData("text");
			this.innerHTML += text;
		}
		//ie中只能叫:"text" ，谷歌随便都可以 e.dataTransfer.setData("text","我爱你");
	
	}
</script>
</body>
</html>